{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import{generateAccount}from'../utils/AccountUtils';import{QRCodeCanvas}from\"qrcode.react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Recieve=function Recieve(){var recoveryPhraseKeyName='recoveryPhrase';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),seedphrase=_useState2[0],setSeedphrase=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showRecoverInput=_useState6[0],setShowRecoverInput=_useState6[1];function handleChange(event){setSeedphrase(event.target.value);}var handleKeyDown=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(event.keyCode===13){event.preventDefault();recoverAccount(seedphrase);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleKeyDown(_x){return _ref.apply(this,arguments);};}();var recoverAccount=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(recoveryPhrase){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return generateAccount(recoveryPhrase);case 2:result=_context2.sent;setAccount(result.account);if(localStorage.getItem(recoveryPhraseKeyName)!==recoveryPhrase){localStorage.setItem(recoveryPhraseKeyName,recoveryPhrase);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}(),[]);useEffect(function(){var storedAccount=localStorage.getItem('account');if(storedAccount){setAccount(JSON.parse(storedAccount));}},[]);useEffect(function(){var localStorageRecoveryPhrase=localStorage.getItem(recoveryPhraseKeyName);if(localStorageRecoveryPhrase){setSeedphrase(localStorageRecoveryPhrase);recoverAccount(localStorageRecoveryPhrase);}},[recoverAccount]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex justify-center items-center p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#2D2F36] mt-20 w-full sm:w-[30rem] md:w-[32rem] rounded-3xl p-4 content-box shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mx-auto my-4 rounded-md font-bold text-lg text-white\",children:\"My QR-CODE\"}),(account===null||account===void 0?void 0:account.address)&&/*#__PURE__*/_jsx(QRCodeCanvas,{id:\"qrCode\",size:200,value:account===null||account===void 0?void 0:account.address,bgColor:\"#2D2F36\",fgColor:\"#ffffff\",level:\"H\",className:\"w-[300px] h-[300px] mx-auto my-4 rounded-md  \"})]})})});};export default Recieve;","map":{"version":3,"names":["React","useCallback","useEffect","useState","generateAccount","QRCodeCanvas","Recieve","recoveryPhraseKeyName","seedphrase","setSeedphrase","account","setAccount","showRecoverInput","setShowRecoverInput","handleChange","event","target","value","handleKeyDown","keyCode","preventDefault","recoverAccount","recoveryPhrase","result","localStorage","getItem","setItem","storedAccount","JSON","parse","localStorageRecoveryPhrase","address"],"sources":["/workspace/Cryptway-ETH-Wallet/src/pages/recieve.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { Account } from '../models/Account';   \nimport { generateAccount } from '../utils/AccountUtils';\nimport { QRCodeCanvas } from \"qrcode.react\";    \n\nconst Recieve = () => {  \n\n   \n  const recoveryPhraseKeyName = 'recoveryPhrase';\n   const [seedphrase, setSeedphrase] = useState('');\n  const [account, setAccount] = useState<Account | null>(null);\n   const [showRecoverInput, setShowRecoverInput] = useState(false);\n \n   function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n     setSeedphrase(event.target.value);\n   }\n \n   const handleKeyDown = async (event: React.KeyboardEvent<HTMLInputElement>) => {\n     if (event.keyCode === 13) {\n       event.preventDefault();\n       recoverAccount(seedphrase);\n     }\n   }\n \n  const recoverAccount = useCallback(\n    async (recoveryPhrase: string) => {\n      const result = await generateAccount(recoveryPhrase);\n    \n    setAccount(result.account);\n\n     if (localStorage.getItem(recoveryPhraseKeyName) !== recoveryPhrase) {\n       localStorage.setItem(recoveryPhraseKeyName, recoveryPhrase);\n     }\n\n   }, []\n );\n \n \n  useEffect(() => {\n  const storedAccount = localStorage.getItem('account');\n\n  if (storedAccount) {\n    setAccount(JSON.parse(storedAccount));\n  }\n}, []);\n\nuseEffect(() => {\n\n  const localStorageRecoveryPhrase = localStorage.getItem(recoveryPhraseKeyName)\n  if (localStorageRecoveryPhrase) {\n    setSeedphrase(localStorageRecoveryPhrase);\n    recoverAccount(localStorageRecoveryPhrase);\n  }\n}, [recoverAccount])\n\nreturn ( \n <> \n  <div className=\"flex-1 flex justify-center items-center p-5\">\n   <div className=\"bg-[#2D2F36] mt-20 w-full sm:w-[30rem] md:w-[32rem] rounded-3xl p-4 content-box shadow-lg\">\n          \n   <div className='text-center mx-auto my-4 rounded-md font-bold text-lg text-white'>My QR-CODE</div>\n\n {account?.address && <QRCodeCanvas\n  id=\"qrCode\"\n  size={200}\n  value={account?.address}\n  bgColor=\"#2D2F36\"\n  fgColor=\"#ffffff\"\n  level={\"H\"}\n\n  className=\"w-[300px] h-[300px] mx-auto my-4 rounded-md  \"\n/>\n} \n\n         \n        </div>\n      </div>\n \n </>\n \n  );\n};\n\nexport default Recieve;\n\n "],"mappings":"4WAAA,MAAOA,MAAK,EAAIC,WAAW,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE/D,OAASC,eAAe,KAAQ,uBAAuB,CACvD,OAASC,YAAY,KAAQ,cAAc,CAAC,6IAE5C,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CAGpB,GAAMC,sBAAqB,CAAG,gBAAgB,CAC7C,cAAoCJ,QAAQ,CAAC,EAAE,CAAC,wCAAzCK,UAAU,eAAEC,aAAa,eACjC,eAA8BN,QAAQ,CAAiB,IAAI,CAAC,yCAArDO,OAAO,eAAEC,UAAU,eACzB,eAAgDR,QAAQ,CAAC,KAAK,CAAC,yCAAxDS,gBAAgB,eAAEC,mBAAmB,eAE5C,QAASC,aAAY,CAACC,KAA0C,CAAE,CAChEN,aAAa,CAACM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACnC,CAEA,GAAMC,cAAa,4FAAG,iBAAOH,KAA4C,oHACvE,GAAIA,KAAK,CAACI,OAAO,GAAK,EAAE,CAAE,CACxBJ,KAAK,CAACK,cAAc,EAAE,CACtBC,cAAc,CAACb,UAAU,CAAC,CAC5B,CAAC,sDACF,kBALKU,cAAa,4CAKlB,CAEF,GAAMG,eAAc,CAAGpB,WAAW,6FAChC,kBAAOqB,cAAsB,0JACNlB,gBAAe,CAACkB,cAAc,CAAC,QAA9CC,MAAM,gBAEdZ,UAAU,CAACY,MAAM,CAACb,OAAO,CAAC,CAEzB,GAAIc,YAAY,CAACC,OAAO,CAAClB,qBAAqB,CAAC,GAAKe,cAAc,CAAE,CAClEE,YAAY,CAACE,OAAO,CAACnB,qBAAqB,CAAEe,cAAc,CAAC,CAC7D,CAAC,wDAEF,iEAAE,EAAE,CACN,CAGApB,SAAS,CAAC,UAAM,CAChB,GAAMyB,cAAa,CAAGH,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAErD,GAAIE,aAAa,CAAE,CACjBhB,UAAU,CAACiB,IAAI,CAACC,KAAK,CAACF,aAAa,CAAC,CAAC,CACvC,CACF,CAAC,CAAE,EAAE,CAAC,CAENzB,SAAS,CAAC,UAAM,CAEd,GAAM4B,2BAA0B,CAAGN,YAAY,CAACC,OAAO,CAAClB,qBAAqB,CAAC,CAC9E,GAAIuB,0BAA0B,CAAE,CAC9BrB,aAAa,CAACqB,0BAA0B,CAAC,CACzCT,cAAc,CAACS,0BAA0B,CAAC,CAC5C,CACF,CAAC,CAAE,CAACT,cAAc,CAAC,CAAC,CAEpB,mBACC,sCACC,YAAK,SAAS,CAAC,6CAA6C,uBAC3D,aAAK,SAAS,CAAC,2FAA2F,wBAE1G,YAAK,SAAS,CAAC,kEAAkE,wBAAiB,CAEnG,CAAAX,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEqB,OAAO,gBAAI,KAAC,YAAY,EACjC,EAAE,CAAC,QAAQ,CACX,IAAI,CAAE,GAAI,CACV,KAAK,CAAErB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEqB,OAAQ,CACxB,OAAO,CAAC,SAAS,CACjB,OAAO,CAAC,SAAS,CACjB,KAAK,CAAE,GAAI,CAEX,SAAS,CAAC,+CAA+C,EACzD,GAIY,EACF,EAER,CAGJ,CAAC,CAED,cAAezB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}