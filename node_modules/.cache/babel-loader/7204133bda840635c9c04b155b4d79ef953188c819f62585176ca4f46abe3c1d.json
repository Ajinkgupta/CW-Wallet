{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{QRCodeCanvas}from\"qrcode.react\";import React,{useCallback,useEffect,useState}from'react';import logo from'../assets/logo.png';import{Link}from\"react-router-dom\";import{generateAccount}from'../utils/AccountUtils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Sidebar=function Sidebar(){var recoveryPhraseKeyName='recoveryPhrase';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),seedphrase=_useState2[0],setSeedphrase=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showRecoverInput=_useState6[0],setShowRecoverInput=_useState6[1];function handleChange(event){setSeedphrase(event.target.value);}var handleKeyDown=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(event.keyCode===13){event.preventDefault();recoverAccount(seedphrase);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleKeyDown(_x){return _ref.apply(this,arguments);};}();var recoverAccount=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(recoveryPhrase){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return generateAccount(recoveryPhrase);case 2:result=_context2.sent;setAccount(result.account);if(localStorage.getItem(recoveryPhraseKeyName)!==recoveryPhrase){localStorage.setItem(recoveryPhraseKeyName,recoveryPhrase);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}(),[]);useEffect(function(){var storedAccount=localStorage.getItem('account');if(storedAccount){setAccount(JSON.parse(storedAccount));}},[]);useEffect(function(){var localStorageRecoveryPhrase=localStorage.getItem(recoveryPhraseKeyName);if(localStorageRecoveryPhrase){setSeedphrase(localStorageRecoveryPhrase);recoverAccount(localStorageRecoveryPhrase);}},[recoverAccount]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 flex justify-end  shadow-2xl items-start flex-col rounded-xl h-40 w-72  bg-gradient-to-tr from-gray-900 to-gray-700  my-5 bg-black white-glassmorphism \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between flex-col w-full h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 h-50   flex justify-center items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-[2px]  rounded-[2px] white-glassmorphism\",children:(account===null||account===void 0?void 0:account.address)&&/*#__PURE__*/_jsx(QRCodeCanvas,{id:\"qrCode\",size:80,value:account===null||account===void 0?void 0:account.address,bgColor:\"#F4C430\",level:\"H\",className:\" \"})}),\" \"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-poppins font-bold text-lg mt-1\",children:\"CRYPTWAY\"}),/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"w-8 h-8\",alt:\"\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-poppins font-normal text-white text-[10px] text-center \",children:[\" \",account===null||account===void 0?void 0:account.address]})})]})}),/*#__PURE__*/_jsxs(Link,{to:\"/history\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"  px-4 py-[6px] hover:border-[1px] hover:px-[15px] hover:py-[5px] shadow-lg  text-white    w-full text-center  rounded-l-3xl rounded-r-3xl  cursor-pointer bg-purple-600  \",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-poppins  font-bold text text-white text-sm \",children:\"Transaction History\"})}),\" \"]})]});};export default Sidebar;","map":{"version":3,"names":["QRCodeCanvas","React","useCallback","useEffect","useState","logo","Link","generateAccount","Sidebar","recoveryPhraseKeyName","seedphrase","setSeedphrase","account","setAccount","showRecoverInput","setShowRecoverInput","handleChange","event","target","value","handleKeyDown","keyCode","preventDefault","recoverAccount","recoveryPhrase","result","localStorage","getItem","setItem","storedAccount","JSON","parse","localStorageRecoveryPhrase","address"],"sources":["/workspace/Cryptway-ETH-Wallet/src/layout/sidebar.tsx"],"sourcesContent":["import { QRCodeCanvas } from \"qrcode.react\";    \nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Account } from '../models/Account';  \nimport logo from '../assets/logo.png'; \nimport { Link } from \"react-router-dom\";\nimport swap from   \"../assets/swap.png\"; \nimport currencies from \"../assets/currencies.png\"; \nimport send from \"../assets/send.png\"; \nimport recieve from \"../assets/wallet.png\";   \nimport fund from \"../assets/fund-ico.png\"; \nimport { generateAccount } from '../utils/AccountUtils';\n\nconst Sidebar = () => { \n  const recoveryPhraseKeyName = 'recoveryPhrase';\n  const [seedphrase, setSeedphrase] = useState('');\n const [account, setAccount] = useState<Account | null>(null);\n  const [showRecoverInput, setShowRecoverInput] = useState(false);\n\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    setSeedphrase(event.target.value);\n  }\n\n  const handleKeyDown = async (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      recoverAccount(seedphrase);\n    }\n  }\n\n const recoverAccount = useCallback(\n   async (recoveryPhrase: string) => {\n     const result = await generateAccount(recoveryPhrase);\n   \n   setAccount(result.account);\n\n    if (localStorage.getItem(recoveryPhraseKeyName) !== recoveryPhrase) {\n      localStorage.setItem(recoveryPhraseKeyName, recoveryPhrase);\n    }\n\n  }, []\n);\n\n\n useEffect(() => {\n const storedAccount = localStorage.getItem('account');\n\n if (storedAccount) {\n   setAccount(JSON.parse(storedAccount));\n }\n}, []);\n\nuseEffect(() => {\n\n const localStorageRecoveryPhrase = localStorage.getItem(recoveryPhraseKeyName)\n if (localStorageRecoveryPhrase) {\n   setSeedphrase(localStorageRecoveryPhrase);\n   recoverAccount(localStorageRecoveryPhrase);\n }\n}, [recoverAccount])\n  return (\n    \n        <>\n         <div className=\"p-3 flex justify-end  shadow-2xl items-start flex-col rounded-xl h-40 w-72  bg-gradient-to-tr from-gray-900 to-gray-700  my-5 bg-black white-glassmorphism \">\n            <div className=\"flex justify-between flex-col w-full h-full\">\n              <div className=\"flex justify-between items-start\">\n                <div className=\"w-50 h-50   flex justify-center items-center\">\n                 \n   <div className=\"p-[2px]  rounded-[2px] white-glassmorphism\">\n   {account?.address && <QRCodeCanvas\nid=\"qrCode\" \nsize={80}\nvalue={account?.address}\nbgColor={\"#F4C430\"}\nlevel={\"H\"} \nclassName=\" \"\n/> } \n   </div> </div> \n               <p className=\"text-white font-poppins font-bold text-lg mt-1\">\n                  CRYPTWAY\n                </p>\n                <img src={logo}  className=\"w-8 h-8\" alt=\"\" />\n              </div>\n              <div>\n                <p className=\"font-poppins font-normal text-white text-[10px] text-center \"> {account?.address}</p> \n              </div>\n            </div>\n          </div>\n        \n        \n <Link to=\"/history\"> \n<button\n                type=\"button\"\n                  \n                  className=\"  px-4 py-[6px] hover:border-[1px] hover:px-[15px] hover:py-[5px] shadow-lg  text-white    w-full text-center  rounded-l-3xl rounded-r-3xl  cursor-pointer bg-purple-600  \"\n                >\n                   <p className=\"font-poppins  font-bold text text-white text-sm \">\n                  Transaction History\n                  </p> \n                </button> </Link>\n\n        </>\n       \n \n  );\n};\n\nexport default Sidebar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}