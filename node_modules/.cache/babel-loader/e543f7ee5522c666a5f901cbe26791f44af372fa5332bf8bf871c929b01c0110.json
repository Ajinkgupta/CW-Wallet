{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import'./App.css';import APP from'./pages/App';import AccountSend from'./pages/AccountSend';import Navbar from'./layout/nav';import AccountTransactions from'./pages/AccountTransactions';import Recieve from'./pages/recieve';import{generateAccount}from'./utils/AccountUtils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var recoveryPhraseKeyName='recoveryPhrase';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),seedphrase=_useState2[0],setSeedphrase=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showRecoverInput=_useState6[0],setShowRecoverInput=_useState6[1];function handleChange(event){setSeedphrase(event.target.value);}var handleKeyDown=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(event.keyCode===13){event.preventDefault();recoverAccount(seedphrase);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleKeyDown(_x){return _ref.apply(this,arguments);};}();var recoverAccount=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(recoveryPhrase){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return generateAccount(recoveryPhrase);case 2:result=_context2.sent;setAccount(result.account);if(localStorage.getItem(recoveryPhraseKeyName)!==recoveryPhrase){localStorage.setItem(recoveryPhraseKeyName,recoveryPhrase);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}(),[]);useEffect(function(){var storedAccount=localStorage.getItem('account');if(storedAccount){setAccount(JSON.parse(storedAccount));}},[]);useEffect(function(){var localStorageRecoveryPhrase=localStorage.getItem(recoveryPhraseKeyName);if(localStorageRecoveryPhrase){setSeedphrase(localStorageRecoveryPhrase);recoverAccount(localStorageRecoveryPhrase);}},[recoverAccount]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#202124] w-full min-h-screen\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(APP,{})}),/*#__PURE__*/_jsx(Route,{path:\"/send\",element:account?/*#__PURE__*/_jsx(AccountSend,{account:account}):null}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:account?/*#__PURE__*/_jsx(AccountTransactions,{account:account}):null}),/*#__PURE__*/_jsx(Route,{path:\"/scan\",element:/*#__PURE__*/_jsx(Scan,{})}),/*#__PURE__*/_jsx(Route,{path:\"/show-qr\",element:/*#__PURE__*/_jsx(Recieve,{})})]})]})});}function Scan(){window.location.replace('./scan.html');return null;}export default App;","map":{"version":3,"names":["React","useCallback","useEffect","useState","BrowserRouter","Router","Route","Routes","APP","AccountSend","Navbar","AccountTransactions","Recieve","generateAccount","App","recoveryPhraseKeyName","seedphrase","setSeedphrase","account","setAccount","showRecoverInput","setShowRecoverInput","handleChange","event","target","value","handleKeyDown","keyCode","preventDefault","recoverAccount","recoveryPhrase","result","localStorage","getItem","setItem","storedAccount","JSON","parse","localStorageRecoveryPhrase","Scan","window","location","replace"],"sources":["/workspace/Cryptway-ETH-Wallet/src/App.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\n\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport './App.css';\nimport APP from './pages/App';\n\nimport AccountSend from './pages/AccountSend';\nimport Navbar from './layout/nav';\nimport { Account } from './models/Account';\nimport AccountTransactions from './pages/AccountTransactions';\nimport Recieve from './pages/recieve';\nimport { generateAccount } from './utils/AccountUtils';\nfunction App() {\n  const recoveryPhraseKeyName = 'recoveryPhrase';\n  const [seedphrase, setSeedphrase] = useState('');\n  const [account, setAccount] = useState<Account | null>(null);\n  const [showRecoverInput, setShowRecoverInput] = useState(false);\n\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    setSeedphrase(event.target.value);\n  }\n\n  const handleKeyDown = async (\n    event: React.KeyboardEvent<HTMLInputElement>\n  ) => {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      recoverAccount(seedphrase);\n    }\n  };\n\n  const recoverAccount = useCallback(async (recoveryPhrase: string) => {\n    const result = await generateAccount(recoveryPhrase);\n\n    setAccount(result.account);\n\n    if (localStorage.getItem(recoveryPhraseKeyName) !== recoveryPhrase) {\n      localStorage.setItem(recoveryPhraseKeyName, recoveryPhrase);\n    }\n  }, []);\n\n  useEffect(() => {\n    const storedAccount = localStorage.getItem('account');\n\n    if (storedAccount) {\n      setAccount(JSON.parse(storedAccount));\n    }\n  }, []);\n\n  useEffect(() => {\n    const localStorageRecoveryPhrase = localStorage.getItem(\n      recoveryPhraseKeyName\n    );\n    if (localStorageRecoveryPhrase) {\n      setSeedphrase(localStorageRecoveryPhrase);\n      recoverAccount(localStorageRecoveryPhrase);\n    }\n  }, [recoverAccount]);\n\n  return (\n    <Router>\n      <div className=\"bg-[#202124] w-full min-h-screen\">\n        <Navbar />\n        <Routes>\n          <Route path=\"/\" element={<APP />} />\n          <Route\n            path=\"/send\"\n            element={account ? <AccountSend account={account} /> : null}\n          />\n          <Route\n            path=\"/history\"\n            element={account ? <AccountTransactions account={account} /> : null}\n          />\n\n          <Route path=\"/scan\" element={<Scan />} />\n\n          <Route path=\"/show-qr\" element={<Recieve />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nfunction Scan() {\n  window.location.replace('./scan.html');\n  return null;\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}