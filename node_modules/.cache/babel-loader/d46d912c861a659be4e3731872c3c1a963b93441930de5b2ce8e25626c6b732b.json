{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/Cryptway-ETH-Wallet/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import{generateAccount}from'../utils/AccountUtils';import AccountDetail from'./AccountDetail';import logo from'../assets/logo.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var recoveryPhraseKeyName='recoveryPhrase';function APP(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),seedphrase=_useState2[0],setSeedphrase=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showRecoverInput=_useState6[0],setShowRecoverInput=_useState6[1];function handleChange(event){setSeedphrase(event.target.value);}var handleKeyDown=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(event.keyCode===13){event.preventDefault();recoverAccount(seedphrase);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleKeyDown(_x){return _ref.apply(this,arguments);};}();var recoverAccount=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(recoveryPhrase){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return generateAccount(recoveryPhrase);case 2:result=_context2.sent;setAccount(result.account);if(localStorage.getItem(recoveryPhraseKeyName)!==recoveryPhrase){localStorage.setItem(recoveryPhraseKeyName,recoveryPhrase);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}(),[]);useEffect(function(){var localStorageRecoveryPhrase=localStorage.getItem(recoveryPhraseKeyName);if(localStorageRecoveryPhrase){setSeedphrase(localStorageRecoveryPhrase);recoverAccount(localStorageRecoveryPhrase);}},[recoverAccount]);function createAccount(){return _createAccount.apply(this,arguments);}function _createAccount(){_createAccount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return generateAccount();case 2:result=_context3.sent;setAccount(result.account);localStorage.setItem('account',JSON.stringify(result.account));window.location.reload();case 6:case\"end\":return _context3.stop();}}},_callee3);}));return _createAccount.apply(this,arguments);}useEffect(function(){var storedAccount=localStorage.getItem('account');if(storedAccount){setAccount(JSON.parse(storedAccount));}},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[!account&&/*#__PURE__*/_jsxs(\"div\",{className:\"rounded shadow-lg bg-gray-900 p-8 relative h-screen flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"w-24 h-24 mb-11\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl text-white font-bold  text-center mb-8\",children:\"CRYPTWAY\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"items-center\",onSubmit:function onSubmit(event){return event.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center \",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded mr-3\",onClick:createAccount,children:\"Create Account\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"border border-purple-500 text-purple-500 hover:text-white hover:bg-purple-500 py-2 px-4 rounded\",onClick:function onClick(){return showRecoverInput?recoverAccount(seedphrase):setShowRecoverInput(true);},disabled:showRecoverInput&&!seedphrase,children:showRecoverInput?\"Submit Recovery\":\"Recover Account\"})]}),showRecoverInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"seedphrase\",className:\"block font-medium text-gray-700 mb-2\",children:\"Seedphrase or Private Key for Recovery\"}),/*#__PURE__*/_jsx(\"input\",{id:\"seedphrase\",type:\"text\",placeholder:\"Enter your seedphrase or private key\",className:\"border rounded py-2 px-3 w-full bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-purple-500\",value:seedphrase,onChange:handleChange,onKeyDown:handleKeyDown})]})]})]}),account&&/*#__PURE__*/_jsx(AccountDetail,{account:account})]});}export default APP;","map":{"version":3,"names":["React","useCallback","useEffect","useState","generateAccount","AccountDetail","logo","recoveryPhraseKeyName","APP","seedphrase","setSeedphrase","account","setAccount","showRecoverInput","setShowRecoverInput","handleChange","event","target","value","handleKeyDown","keyCode","preventDefault","recoverAccount","recoveryPhrase","result","localStorage","getItem","setItem","localStorageRecoveryPhrase","createAccount","JSON","stringify","window","location","reload","storedAccount","parse"],"sources":["/workspace/Cryptway-ETH-Wallet/src/pages/App.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { generateAccount } from '../utils/AccountUtils';\nimport { Account } from '../models/Account';\nimport AccountDetail from './AccountDetail'; \nimport logo from '../assets/logo.png';   \n\nconst recoveryPhraseKeyName = 'recoveryPhrase';\n\nfunction APP() {\n  const [seedphrase, setSeedphrase] = useState('');\n const [account, setAccount] = useState<Account | null>(null);\n  const [showRecoverInput, setShowRecoverInput] = useState(false);\n\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    setSeedphrase(event.target.value);\n  }\n\n  const handleKeyDown = async (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      recoverAccount(seedphrase);\n    }\n  }\n\n  const recoverAccount = useCallback(\n     async (recoveryPhrase: string) => {\n     const result = await generateAccount(recoveryPhrase);\n     \n     setAccount(result.account);\n\n      if (localStorage.getItem(recoveryPhraseKeyName) !== recoveryPhrase) {\n        localStorage.setItem(recoveryPhraseKeyName, recoveryPhrase);\n      }\n\n    }, []\n  );\n\n  useEffect(() => {\n\n    const localStorageRecoveryPhrase = localStorage.getItem(recoveryPhraseKeyName)\n    if (localStorageRecoveryPhrase) {\n      setSeedphrase(localStorageRecoveryPhrase);\n      recoverAccount(localStorageRecoveryPhrase);\n    }\n  }, [recoverAccount])\n\n  async function createAccount() {\n   const result = await generateAccount();\n\n     setAccount(result.account);\n  localStorage.setItem('account', JSON.stringify(result.account));\n  window.location.reload();\n  }\n\n  useEffect(() => {\n  const storedAccount = localStorage.getItem('account');\n\n  if (storedAccount) {\n    setAccount(JSON.parse(storedAccount));\n  }\n}, []);\n\n\n  return ( \n<>\n    {!account &&\n    \n    <div className=\"rounded shadow-lg bg-gray-900 p-8 relative h-screen flex flex-col justify-center items-center\">\n    <img src={logo} className=\"w-24 h-24 mb-11\" /> \n    <h1 className=\"text-3xl text-white font-bold  text-center mb-8\">\n      CRYPTWAY\n    </h1>\n    <form className=\"items-center\" onSubmit={event => event.preventDefault()}>\n    <div className='flex justify-center '> \n      <button\n        type=\"button\"\n        className=\"bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded mr-3\"\n        onClick={createAccount}\n      >\n        Create Account\n      </button> \n      <button\n        type=\"button\"\n        className=\"border border-purple-500 text-purple-500 hover:text-white hover:bg-purple-500 py-2 px-4 rounded\"\n        onClick={() =>\n          showRecoverInput ? recoverAccount(seedphrase) : setShowRecoverInput(true)\n        }\n        disabled={showRecoverInput && !seedphrase}\n      >\n        {showRecoverInput ? \"Submit Recovery\" : \"Recover Account\"}\n      </button> \n      </div>\n\n      {showRecoverInput && (\n        <div className=\"mt-4\">\n          <label\n            htmlFor=\"seedphrase\"\n            className=\"block font-medium text-gray-700 mb-2\"\n          >\n            Seedphrase or Private Key for Recovery\n          </label>\n          <input\n            id=\"seedphrase\"\n            type=\"text\"\n            placeholder=\"Enter your seedphrase or private key\"\n            className=\"border rounded py-2 px-3 w-full bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-purple-500\"\n            value={seedphrase}\n            onChange={handleChange}\n            onKeyDown={handleKeyDown}\n          />\n        </div>\n      )}\n    </form>\n  </div>\n  \n\n  }\n  \n  {account && \n\n  <AccountDetail account={account}/>\n}\n  \n  </>\n  )\n\n}\nexport default APP;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}